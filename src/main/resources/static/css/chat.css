/* =========================================================
   FIX: prevent huge images + broken layout in chat
   Works for BOTH possible message styles:
   - .msg (your chat.css bubble class)
   - .chat-msg (some versions of chat.js render this)
   Also targets #messages and #chatBox containers
   ========================================================= */

/* Prevent messages area from stretching the whole page */
.messages, #messages, #chatBox {
    overflow: auto;
    max-height: 520px;   /* adjust if you want taller */
}

/* Make sure message bubbles don't overflow with long text */
.msg, .chat-msg {
    word-break: break-word;
    overflow-wrap: anywhere;
}

/* Limit images inside chat so they never become giant */
.msg img,
.chat-msg img,
#messages img,
#chatBox img {
    display: block;
    max-width: 260px;     /* main size limit */
    width: 100%;
    height: auto;
    max-height: 260px;    /* prevents very tall images */
    object-fit: contain;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.14);
    margin-top: 8px;
}

/* On bigger screens allow slightly larger image previews */
@media (min-width: 900px) {
    .msg img,
    .chat-msg img,
    #messages img,
    #chatBox img {
        max-width: 340px;
        max-height: 340px;
    }
}

/* On small phones make images smaller so chat stays clean */
@media (max-width: 420px) {
    .msg img,
    .chat-msg img,
    #messages img,
    #chatBox img {
        max-width: 220px;
        max-height: 220px;
    }
}
